{"version":3,"sources":["./src/app/modules/buy/buy/buy.component.ts","./src/app/modules/buy/buy/buy.component.html","./src/app/modules/buy/buy-routing.module.ts","./src/app/modules/buy/buy.module.ts"],"names":[],"mappings":"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","file":"buy-buy-module-es2015.js","sourcesContent":["import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { OrderService } from 'src/app/shared/order.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { getCurrencyConverted, getCurrencySymbol, getCurrentCurrency, getPaymentGateways, isEmptyOrNull, round, sendLiveChatMessage } from 'src/app/shared/utils';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { WatcherService } from 'src/app/shared/watcher.service';\n\n@Component({\n  selector: 'app-buy',\n  templateUrl: './buy.component.html',\n  styleUrls: ['./buy.component.sass']\n})\nexport class BuyComponent implements OnInit {\n  getCurrencySymbol = getCurrencySymbol;\n  getCurrencyConverted = getCurrencyConverted;\n  currency = getCurrentCurrency() || 'USD';\n\n  lessThanStock = false;\n  stockAmount = 0;\n  price = 0;\n  url = this.router.url;\n  isOsrs = this.url.indexOf('oldschool') >= 0;\n  amount = 0;\n  total = 0;\n  rsn = '';\n  // minAmount = this.isOsrs ? 5 : 50;\n  selected = 'Crypto';\n\n  selectedPaymentGateway = null;\n  selectedPaymentGatewayName = null;\n  paymentGateways = getPaymentGateways();\n  stocks;\n\n  // tslint:disable-next-line:max-line-length\n  constructor(private route: ActivatedRoute, private watcher: WatcherService, private title: Title, private meta: Meta, private router: Router, private order: OrderService, private snackBar: MatSnackBar) {\n    this.stocks = this.route.snapshot.data.stock;\n  }\n\n\n  ngOnInit() {\n    this.isOsrs = this.url.indexOf('oldschool') >= 0;\n    this.selectPaymentGateway(this.selected);\n    this.watcher.getCurrency().subscribe(r => {\n      this.currency = r;\n      this.total = round(this.amount * this.price);\n    });\n  }\n\n  public onSelect($event) {\n    this.selected = $event.name;\n    this.selectPaymentGateway(this.selected);\n  }\n\n  public buy() {\n    if (isEmptyOrNull(this.rsn)) {\n      this.snackBar.open('RSN cannot be empty', 'Dismiss', {\n        duration: 5000,\n      });\n      return;\n    }\n\n    if (isEmptyOrNull(this.amount)) {\n      this.snackBar.open('Amount cannot be empty', 'Dismiss', {\n        duration: 5000,\n      });\n      return;\n    }\n\n    if (isNaN(this.amount)) {\n      this.snackBar.open('Amount is not a number', 'Dismiss', {\n        duration: 5000,\n      });\n      return;\n    }\n\n    if (this.amount > this.stockAmount || this.stockAmount <= 0) {\n      this.snackBar.open('Cannot buy more than stock', 'Dismiss', {\n        duration: 5000,\n      });\n      return;\n    }\n\n    if (this.amount <= 0) {\n      this.snackBar.open('Amount cannot be negative', 'Dismiss', {\n        duration: 5000,\n      });\n      return;\n    }\n\n    // if (this.amount < this.minAmount) {\n    //   this.snackBar.open(`Minimum order: ${this.minAmount}M`, 'Dismiss', {\n    //     duration: 5000,\n    //   });\n    //   return;\n    // }\n\n    const total = +round(this.amount * this.price);\n    if (total <= 0 || isNaN(total)) {\n      this.snackBar.open('Total amount calculated is incorrect', 'Dismiss', {\n        duration: 5000,\n      });\n      return;\n    }\n\n\n\n    const payload = {\n      gold: {\n        type: this.isOsrs ? 'oldschool' : 'runescape3',\n        units: +this.amount,\n        rsn: this.rsn,\n      },\n      currency: this.currency,\n      // email: this.email,\n      paymentGatewayId: this.selectedPaymentGateway,\n      refCode: localStorage.getItem('ref')\n    };\n\n    switch (this.selected) {\n      case 'Crypto':\n      case 'Mastercard':\n      case 'Visa':\n      case 'Skrill':\n      case 'Klarna':\n      case 'Trustly':\n        this.snackBar.open('Successfully placed order, you will now be redirected to our payment gateway', 'Dismiss', {\n          duration: 5000,\n        });\n\n        this.order.addOrder(payload).subscribe(result => {\n          if (result.redirect_url) {\n            const newTab = window.open();\n            newTab.location.href = result.redirect_url;\n          }\n        });\n        break;\n      default:\n        let sentence = `Hello,\\nI would to order ${this.amount}M ${this.isOsrs ? 'OSRS' : 'RS3'}\\nRSN: ${this.rsn}\\nPayment gateway: ${this.selectedPaymentGatewayName}`;\n        sendLiveChatMessage(sentence);\n        break;\n    }\n  }\n\n  public changed(type, $event) {\n    if (type === 'amount') {\n      this.amount = $event;\n      this.total = round(this.amount * this.price);\n    } else {\n      this.total = $event;\n      this.amount = round(this.total / this.price);\n    }\n  }\n\n  public get feesPercentage() {\n    if (!this.selectedPaymentGateway) {\n      return 0;\n    }\n    const paymentGateway = this.paymentGateways.find(x => x.paymentGatewayId === this.selectedPaymentGateway)\n    return paymentGateway ? paymentGateway.fees : 0;\n  }\n\n  public get fees() {\n    return this.feesPercentage === 0 ? 0 : +round(this.subtotal * ((this.feesPercentage) / 100));\n  }\n\n  public get subtotal(): number {\n    return this.total;\n  }\n\n  public get totalInvoice(): number {\n    return round(this.fees + this.subtotal)\n  }\n\n  public selectPaymentGateway(name: string) {\n    if (this.stocks) {\n      this.stockAmount = this.isOsrs ? this.stocks.osrs.units : this.stocks.rs3.units;\n      this.price = this.isOsrs ? this.stocks.osrs.selling : this.stocks.rs3.selling;;\n      this.total = round(this.amount * this.price);\n      this.selectedPaymentGateway = this.paymentGateways.find(x => x.name === name).paymentGatewayId;\n      this.selectedPaymentGatewayName = this.paymentGateways.find(x => x.name === name).name;\n    }\n  }\n\n  public redirect(path: string) {\n    this.router.navigate([`/buy/${path}`])\n  }\n}\n","<div class=\"buy-page\">\n    <div class=\"main-container\">\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-12 landing-title\">\n                    Buy <span class=\"color-gold\">{{isOsrs ? 'OSRS': 'RS3'}} Gold</span>\n                </div>\n            </div>\n            <div class=\"row mt-2\">\n                <div class=\"col-12 landing-description\">\n                    <span class=\"color-gold\">Save your time</span>, get everything that you need\n                </div>\n            </div>\n            <div class=\"transparent-container\">\n                <div class=\"row img-preview-container\">\n                    <div class=\"col-12\">\n                        <div class=\"d-flex\">\n                            <div class=\"img-preview-bg\" [class.selected-game]=\"isOsrs\" (click)=\"redirect('oldschool')\">\n                                <img class=\"img-preview\" src=\"./assets/images/branding/osrs-preview.png\" />\n                            </div>\n                            <div class=\"img-preview-bg\" [class.selected-game]=\"!isOsrs\"\n                                (click)=\"redirect('runescape3')\">\n                                <img class=\"img-preview\" style=\"padding: 35px;\"\n                                    src=\"./assets/images/branding/rs3-preview.png\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row mt-4\">\n                    <div class=\"col-6\">\n                        <div class=\"content-wrapper-buy\">\n                            <div class=\"row mt-3\">\n                                <div class=\"col-12 upper-text\">\n                                    WE’RE CURRENTLY SELLING {{isOsrs ? 'OSRS': 'RS3'}} GOLD FOR\n                                </div>\n                            </div>\n                            <div class=\"row mt-3\">\n                                <div class=\"col-12 mid-text\">\n                                    <span class=\"price\">\n                                        {{getCurrencySymbol(currency)}}{{getCurrencyConverted(price) | number}}/M\n                                    </span>\n                                </div>\n                            </div>\n                            <div class=\"row mt-4\">\n                                <div class=\"col-12 box-title\">\n                                    Amount You’d Wish To Buy:\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-lg-12 col-xl-12 col-md-12\">\n                                    <div class=\"box-buy\">\n                                        <input matInput placeholder=\"Amount to order\" [(ngModel)]=\"amount\"\n                                            (ngModelChange)=\"changed('amount', $event)\" type=\"number\">\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row mt-2\">\n                                <div class=\"col-12 box-title\">\n                                    Enter Character Name:\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-12\">\n                                    <div class=\"box-buy\">\n                                        <input matInput placeholder=\"RSN\" [(ngModel)]=\"rsn\" type=\"text\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-6\">\n                        <app-payment-methods [currentPaymentMethod]=\"selected\" (onSelect)=\"onSelect($event)\">\n                        </app-payment-methods>\n\n                        <div class=\"d-flex box-title\">\n                            <div class=\"w-50 text-left pl-4\">\n                                Payment Gateway:\n                            </div>\n                            <div class=\"w-50 text-right\">\n                                {{ selected }}\n                            </div>\n                        </div>\n                        <div class=\"d-flex box-title\">\n                            <div class=\"w-50 text-left pl-4\">\n                                Character Name:\n                            </div>\n                            <div class=\"w-50 text-right\">\n                                {{ rsn }}\n                            </div>\n                        </div>\n                        <div class=\"d-flex box-title\">\n                            <div class=\"w-50 text-left pl-4\">\n                                Sub Total:\n                            </div>\n                            <div class=\"w-50 text-right\">\n                                {{ getCurrencySymbol(currency)}}{{getCurrencyConverted(subtotal) | number}}\n                            </div>\n                        </div>\n                        <div class=\"d-flex box-title\">\n                            <div class=\"w-50 text-left pl-4\">\n                                Fees (+{{feesPercentage}}%):\n                            </div>\n                            <div class=\"w-50 text-right\">\n                                {{ getCurrencySymbol(currency)}}{{getCurrencyConverted(fees) | number}}\n                            </div>\n                        </div>\n                        <div class=\"d-flex box-title\">\n                            <div class=\"w-50 text-left pl-4\">\n                                Total Price:\n                            </div>\n                            <div class=\"w-50 text-right\">\n                                {{ getCurrencySymbol(currency)}}{{getCurrencyConverted(totalInvoice) | number}}\n                            </div>\n                        </div>\n                        <div class=\"row mt-4\">\n                            <div class=\"col-12 pl-4\">\n                                <button class=\"w-100 mr-auto ml-auto d-block\" mat-flat-button color=\"primary\"\n                                    (click)=\"buy()\">\n                                    Buy Now\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"row content-wrapper-main\">\n                        <div class=\"col-xl-8 col-lg-8 mb-4\">\n                            <div class=\"row\">\n                                <div class=\"col-12\">\n                                    <div class=\"content-wrapper-buy\">\n                                        <div class=\"row mt-3\">\n                                            <div class=\"col-12\">\n                                                <div class=\"price-container\">\n                                                    PRICE: <span\n                                                        class=\"price\">{{getCurrencySymbol(currency)}}{{getCurrencyConverted(price)\n                                                        |\n                                                        number}}/M</span>\n                                                </div>\n    \n                                                <div class=\"stock-container\">\n                                                    Current Available Stock: <span class=\"stock\">{{stockAmount}}M</span>\n                                                </div>\n                                            </div>\n                                        </div>\n    \n                                        <div class=\"row mt-4\">\n                                            <div class=\"col-lg-5 col-xl-5 col-md-5\">\n                                                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                                                    <mat-label>Gold Amount</mat-label>\n                                                    <input matInput placeholder=\"Amount to order\" [(ngModel)]=\"amount\"\n                                                        (ngModelChange)=\"changed('amount', $event)\" type=\"number\">\n                                                </mat-form-field>\n                                            </div>\n    \n    \n                                            <div class=\"col-lg-2 col-xl-2 col-md-2 d-lg-block exchange-icon text-center\">\n                                                <img src=\"./assets/images/exchange-icon.svg\">\n                                            </div>\n    \n                                            <div class=\"col-lg-5 col-xl-5 col-md-5\">\n                                                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                                                    <mat-label>Total {{currency}} (+{{feesPercentage}}% Fees)</mat-label>\n                                                    <input matInput placeholder=\"Total price in {{currency}}\" type=\"number\"\n                                                        [(ngModel)]=\"total\" (ngModelChange)=\"changed('currency', $event)\">\n                                                </mat-form-field>\n                                            </div>\n                                        </div>\n    \n                                        <div class=\"row\">\n                                            <div class=\"col-12\">\n                                                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                                                    <mat-label>RS Name</mat-label>\n                                                    <input matInput placeholder=\"RSN\" [(ngModel)]=\"rsn\" type=\"text\">\n                                                </mat-form-field>\n                                            </div>\n                                        </div>\n    \n                                        <div class=\"mobile pr-4 pl-4\">\n                                            <div class=\"row\">\n                                                <div class=\"col-12\">\n                                                    <mat-form-field appearance=\"outline\">\n                                                        <mat-label>Gold Amount</mat-label>\n                                                        <input matInput placeholder=\"Amount to order\" [(ngModel)]=\"amount\"\n                                                            (ngModelChange)=\"changed('amount', $event)\" type=\"number\">\n                                                    </mat-form-field>\n                                                </div>\n                                                <div class=\"col-12\">\n                                                    <mat-form-field appearance=\"outline\">\n                                                        <mat-label>Total {{currency}}</mat-label>\n                                                        <input matInput placeholder=\"Total price in {{currency}}\"\n                                                            type=\"number\" [(ngModel)]=\"total\"\n                                                            (ngModelChange)=\"changed('currency', $event)\">\n                                                    </mat-form-field>\n                                                </div>\n                                                <div class=\"col-12\">\n                                                    <mat-form-field appearance=\"outline\">\n                                                        <mat-label>RS Name</mat-label>\n                                                        <input matInput placeholder=\"RSN\" [(ngModel)]=\"rsn\" type=\"text\">\n                                                    </mat-form-field>\n                                                </div>\n                                            </div>\n                                        </div>\n    \n    \n                                        <app-payment-methods [currentPaymentMethod]=\"selected\"\n                                            (onSelect)=\"onSelect($event)\">\n                                        </app-payment-methods>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-xl-4 col-lg-4\">\n                            <div class=\"content-wrapper-details\">\n                                <div class=\"details-title\">\n                                    ORDER DETAILS\n                                </div>\n                                <div class=\"details-description\">\n                                    {{amount}}M OSRS Gold\n                                </div>\n                                <div class=\"details-price\">\n                                    {{ getCurrencySymbol(currency)}}{{getCurrencyConverted(price) | number}}/M\n                                </div>\n                                <div class=\"vertical-spacer\">\n                                </div>\n                                <div class=\"details-subtotal d-flex\">\n                                    <div class=\"w-50\">\n                                        Sub Total:\n                                    </div>\n                                    <div class=\"w-50 text-right\">\n                                        {{ getCurrencySymbol(currency)}}{{getCurrencyConverted(subtotal) | number}}\n                                    </div>\n                                </div>\n                                <div class=\"details-fees d-flex\">\n                                    <div class=\"w-50\">\n                                        Fees:\n                                    </div>\n                                    <div class=\"w-50 text-right\">\n                                        {{ getCurrencySymbol(currency)}}{{getCurrencyConverted(fees) | number}}\n                                    </div>\n                                </div>\n                                <div class=\"details-total-price d-flex\">\n                                    <div class=\"w-50\">\n                                        Total Price:\n                                    </div>\n                                    <div class=\"w-50 text-right\">\n                                        {{ getCurrencySymbol(currency)}}{{getCurrencyConverted(totalInvoice) | number}}\n                                    </div>\n                                </div>\n                                <div class=\"details-purchase\">\n                                    <button mat-raised-button type=\"button\" (click)=\"buy()\">\n                                        Purchase\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div> -->\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { StockResolver } from 'src/app/shared/resolvers/StockResolver.resolver';\nimport { BuyComponent } from './buy/buy.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    pathMatch: 'full',\n    redirectTo: 'oldschool'\n  },\n  {\n    path: 'oldschool',\n    component: BuyComponent,\n    resolve: {\n      stock: StockResolver\n    }\n  },\n  {\n    path: 'runescape3',\n    component: BuyComponent,\n    resolve: {\n      stock: StockResolver\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BuyRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { BuyRoutingModule } from './buy-routing.module';\nimport { BuyComponent } from './buy/buy.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n\n@NgModule({\n  declarations: [BuyComponent],\n  imports: [\n    CommonModule,\n    BuyRoutingModule,\n    SharedModule\n  ]\n})\nexport class BuyModule { }\n"],"sourceRoot":"webpack:///"}